
# Environment configuration for Biological Memory Pipeline
# Do not commit this file to version control

# Database configuration - SECURITY HARDENING APPLIED 2025-09-01
# ‚ö†Ô∏è SECURITY NOTICE: Hardcoded credentials removed for security compliance
# ‚ö†Ô∏è CRITICAL: Replace PASSWORD with your actual database password
# üîÑ CREDENTIALS ROTATED: 2025-09-01 (Security hardening implementation)
DATABASE_URL=postgresql://codex_user:MZSfXiLr5uR3QYbRwv2vTzi22SvFkj4a@192.168.1.104:5432/codex_db
DB_CONN=postgresql://codex_user:MZSfXiLr5uR3QYbRwv2vTzi22SvFkj4a@192.168.1.104:5432/codex_db
DB_NAME=codex_db
DB_USER=codex_user
DB_PASS=MZSfXiLr5uR3QYbRwv2vTzi22SvFkj4a
HOST=192.168.1.104

# Standardized database URL (single source of truth)
POSTGRES_DB_URL=postgresql://codex_user:MZSfXiLr5uR3QYbRwv2vTzi22SvFkj4a@192.168.1.104:5432/codex_db

# PostgreSQL configuration for DuckDB secrets
POSTGRES_HOST=192.168.1.104
POSTGRES_DB=codex_db
POSTGRES_USER=codex_user
POSTGRES_PASSWORD=MZSfXiLr5uR3QYbRwv2vTzi22SvFkj4a

# Test Database Configuration (rebuilds from scratch each run)
# Access via: ssh four (192.168.1.104)
# ‚ö†Ô∏è CRITICAL: Replace SECURE_TEST_PASSWORD_HERE with your actual test password
TEST_DATABASE_URL=postgresql://codex_test_user:SECURE_TEST_PASSWORD_HERE@192.168.1.104:5432/codex_test_db
TEST_DB_NAME=codex_test_db
TEST_DB_USER=codex_test_user
TEST_DB_PASS=SECURE_TEST_PASSWORD_HERE
TEST_DB_TEMPLATE=template0
# Test database connection pool (smaller for test efficiency)
TEST_MAX_DB_CONNECTIONS=20

# Embedding Service Configuration (Updated for STORY-005)
EMBEDDING_PROVIDER=ollama
EMBEDDING_MODEL=nomic-embed-text
EMBEDDING_BASE_URL=http://192.168.1.110:11434
EMBEDDING_TIMEOUT_SECONDS=300

# LLM Model Configuration - STANDARDIZED ENDPOINT (Updated for STORY-005)
OLLAMA_MODEL=gpt-oss:20b
OLLAMA_GENERATION_TIMEOUT_SECONDS=300
OLLAMA_URL=http://192.168.1.110:11434

# OpenAI API Key (backup - not used with Ollama)
OPENAI_API_KEY=your_openai_api_key_here

# Server Configuration
HTTP_PORT=8080
MCP_PORT=13513

# Auto-migrate database on startup
AUTO_MIGRATE=false
MIGRATION_DIR=./migration/migrations

# Logging
LOG_LEVEL=debug

# MCP Authentication (disabled for testing)
MCP_AUTH_ENABLED=false

MCP_JWT_SECRET=U7wfix5LN6HPXAQX2RUxeuI7SN1k4kCRb75JRKPW1oM=
MCP_CIRCUIT_BREAKER_ENABLED=false

# Database connection pool (CODEX-002 EMERGENCY FIX: increased from 50 to 160 for production load)
# Supports 80/80 main/background split to eliminate connection pool exhaustion
# Previous value of 50 caused 262 "too many connections" errors in production
# PostgreSQL server supports 500 max connections, this uses 32% of capacity
MAX_DB_CONNECTIONS=160

# Database file location
DUCKDB_PATH="/Users/ladvien/biological_memory/dbs/memory.duckdb"

# dbt configuration
DBT_PROFILES_DIR="~/.dbt"
DBT_PROJECT_DIR="/Users/ladvien/biological_memory"
