# Example dbt profiles configuration
# Copy this to ~/.dbt/profiles.yml and update with your credentials

biological_memory:
  target: dev
  outputs:
    dev:
      type: duckdb
      path: "{{ env_var('DUCKDB_PATH') }}"
      threads: 8
      extensions:
        - httpfs     # For Ollama HTTP calls
        - postgres_scanner   # For PostgreSQL connection
        - json       # For JSON processing
      attach:
        - path: "{{ env_var('POSTGRES_DB_URL') }}"
          type: postgres
          alias: source_memories
      settings:
        # Enable prompt() function with Ollama endpoint
        prompt_model: 'ollama'
        prompt_base_url: "{{ env_var('OLLAMA_URL') }}"
        prompt_model_name: "{{ env_var('OLLAMA_MODEL') }}"
    test:
      type: duckdb
      path: /tmp/test_biological_memory.duckdb
      threads: 4
      extensions:
        - postgres_scanner
        - json
      attach:
        - path: "{{ env_var('TEST_DATABASE_URL') }}"
          type: postgres
          alias: test_source_memories