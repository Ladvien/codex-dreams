# dbt profiles.yml configuration for Biological Memory System
# Copy this file to ~/.dbt/profiles.yml and update with your settings
# 
# This configuration enables DuckDB to connect to PostgreSQL databases
# using the postgres_scanner extension for accessing remote memory data

codex_biological_memory:
  target: dev
  outputs:
    dev:
      type: duckdb
      path: ./biological_memory.duckdb
      extensions:
        - httpfs
        - postgres_scanner
        - json
      settings:
        memory_limit: 8GB
        threads: 4
        postgres_scanner:
          enabled: true
          connection_timeout: 30
        enable_external_access: false
    prod:
      type: duckdb
      path: /var/lib/biological_memory/production.duckdb
      extensions:
        - httpfs
        - postgres_scanner
        - json
      settings:
        memory_limit: 16GB
        threads: 8
        postgres_scanner:
          enabled: true
          connection_timeout: 60
        enable_external_access: false
    test:
      type: duckdb
      path: ":memory:"
      extensions:
        - httpfs
        - postgres_scanner
        - json
      settings:
        memory_limit: 2GB
        threads: 2
        postgres_scanner:
          enabled: true
          connection_timeout: 10
        enable_external_access: false